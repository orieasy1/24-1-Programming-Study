# 스프링부트3 구조(계층) 살펴보기
스프링부트는 각 계층이 양 옆의 계층과 통신하는 구조를 따른다.
계층은 각자의 역할과 책임이 있는 어떤 소프트웨어의 구성 요소를 말한다.
각 계층은 자신의 책임에 맞는 역할을 수행하며, 다른 계층과 소통할 수는 있지만 다른 계층에 직접 간섭하거나 영향을 미치지 않는다.

스프링 웹 계층에는 프레젠테이션 계층, 비즈니스 계층, 퍼시스턴스 계층이 있다.

### 프레젠테이션 계층
HTTP 요청을 받고 이 요청을 비즈니스 계층으로 전송하는 역할을 한다.
사용자 인터페이스와 직접 상호브라우저상의 웹 클라이언트의 요청 및 응답을 처리한다고 이해하면 된다.
컨트롤러가 프레젠테이션 계층의 중요한 구성 요소로 사용자의 요청을 처리하고 응답을 반환한다.
컨트롤러는 스프링부트 내 여러 개가 존재할 수 있다.

### 서비스 계층
모든 비즈니스 로직을 처리하는 계층이다.
비즈니스 로직이란 서비스를 만들기 위한 로직을 말한다. 
쉽게 말해 웹사이트에서 벌어지는 모든 작업을 만들기 위한 로직이다.
프레젠테이션 계층과 데이터 액세스 계층 사이의 중재 역할을 한다.
이 계층에서는 서비스 클래스가 주로 사용되면 @Service 어노테이션을 이용해 정의된다.
<br><br>
주문 서비스를 구축한다고 한다면, 데이터를 처리하기 위한 로직, 주문 처리를 하다가 발생하는 예외 처리 로직, 주문을 받거나 취소하는 것과 같이 프로세스를 구현하는 로직이 비즈니스 로직이 될 것이다.

### 퍼시스턴스 계층
퍼시스턴스 계층은 애플리케이션에서 데이터를 영구적으로 저장하고 관리하는 역할을 한다.
모든 데이터베이스 관련 로직을 처리하는 계층이다.이 과정에서 데이터베이스에 접근하는 DAO객체를 사용할 수도 있다.
DAO는 데이터베이스 계층과 상호작용하기 위한 객체로 데이터페이스 작업(CRUD, Create Read Use Delete)을 수행하는 객체이다.
Repository가 퍼시스턴스 계층의 역할을 한다.
Repository는 데이터 엑세스 메서드를 제공하는 인터페이스이다.
스프링 데이터 JPA와 같은 기술을 사용하면 개발자는 인터페이스만 정의하고 구현은 프레임워크가 자동으로 생성한다.
<br><br>
도메인 계층 및 모델이 포함된다.
엔티티가 이 도메인 계층에 해당하는 데이터베이스 테이블과 매핑되는 클래스이다. 주로 JPA를 사용하여 정의되며, @Entity를 통해 엔티티임을 명시한다.


@RestController는 스프링 프레임워크에서 RESTful 웹 서비스를 개발할 때 사용하는 애노테이션입니다. 이 애노테이션은 주로 JSON 또는 XML 형식의 HTTP 응답을 생성하는 컨트롤러 클래스를 정의할 때 사용됩니다.

@RestController의 역할
@RestController는 두 가지 주요 애노테이션인 @Controller와 @ResponseBody의 조합입니다. 따라서, @RestController로 마크된 클래스는 RESTful 웹 서비스를 제공하기 위한 컨트롤러로 간주됩니다.

@Controller: 이 애노테이션은 스프링 MVC에서 컨트롤러 클래스를 정의할 때 사용됩니다. 컨트롤러 클래스는 웹 요청을 처리하고, 모델 데이터를 뷰에 전달합니다.
@ResponseBody: 이 애노테이션은 메서드가 반환하는 값을 HTTP 응답 본문으로 변환합니다. JSON, XML 등의 형식으로 변환하여 클라이언트에 전달합니다.




포스트맨에서 http://localhost:8080/test를 입력해서 요청을 하면 내가 data.sql에서 입력한 데이터를 확인할 수 있다.
