# Web Service의 인증
웹 인증(Web Authentication)이란 웹 애플리케이션에서 사용자의 정체성 즉 이사람이 누구인지를 확인하고 적절한 권한을 부여하는 과정이다.
따라서 웹 인증의 핵심은 사용자가 누구인지 확인하고 해당 사용자가 액세스하려는 웹 리소스나 서비스에 대한 권한이 있는지 확인하는데 사용된다. 
<br><br>
웹 인증은 웹 서비스의 보안성을 높이며 사용자의 데이터에 무단으로 접근하는 것을 방지하기 위한 보안 요소이다.

관리자만 접근해야하는 메뉴에 아무나 접근하지 못하도록 하는 것도, A라는 유저의 데이터를 B라는 유저가 접근해서 볼 수 없도록 만드는 것도 웹의 인증과 접근 권한에 해당된다.

<br> 

**+보안 측면에서 인증의 개념**
<br><br>
인증이란 어떤 실체가 정말 그 시레가 맞는지를 확인하는 과정을 의미한다.
이때 실체는 메세지, 사용자, 출처, 장치 등 여러 가지가 될 수 있다.
<br><br>
어떤 메세지를 받았는데 



## 웹 인증의 3가지 구분

1. 사용자 등록 <br>
회원가입 절차이다.
사용자는 id, 패스워드, 그리고 전화번호 혹은 이메일 등의 정보를 서버로 전송한다.
서버는 id를 만들고 그 id에 맞춰서 사용자 정보를 안전하게 저장한다.

2. 사용자 인증<br>
로그인 과정이라 생각하면 된다.
사용자는 id와 패스워드를 통해 웹에 로그인 즉 인증을 요청하고 서버는 그러한 id와 패스워드를 통해 사용자를 확인하고 적절한 인증 및 인가를 실행한다.
<br><br>
최근에는 id와 패스워드 뿐만 아니라 OAuth 연동 혹은 지문인식이나 전화번호 인증과 같은 다양한 인증 방법을 통해서 사용자 인증을 하고 있는 추세이다.

3. 세션 관리<br>
사용자가 인증 즉 로그인을 하면 서버에서는 사용자의 세션을 관리하게 된다.
인증된 사용자는 웹 서버 리소스에 접근할 수 있는 권한을 받게 된다.
이때 사용하는 것들이 서버에서 관리하는 세션 또는 클라이언트 측에서 관리하는 쿠키 그리고 이러한 정보를 어떤 형태로 표현헐 건지에 대한 토큰 등 적절한 기술을 통해서 상요자의 로그인 상태와 권한을 관리하게 된다.

<br>

## 다양한 로그인 인증 방식
1. ID/PW 기반 로그인
2. 소셜 로그인(Oauth2): 해당 사이트에 가입하는 형태가 아니라 다른 소셜 기반의 아이디와 패스우드를 대신 가져와서 로그인하는 방식, 표준화된 기술
3. 이메일 인증
4. 휴대폰 인증
5. 다중 인증요소(MFA)

<br>

## HTTP SESSION 인증
HTTP SESSION은 웹 어플리케이션에서 사용자 정보를 저장하는 기술이다.
사용자의 세션은 웹 어플리케이션에 접속한 후 일정 시간동안 유지되는 정보이다.
보통 웹브라우저 도는 연결된 커넥션이 유지되는 동안만 사용될 수 있도록 설정한다.
웹 어플리케이션에서 사용하는 인증 방법이기 때문에 안드로이드라든지 iOS 즉 네이티브 어플리케이션에서는 이 방법을 사용할 수 없다.

### HTTP 세션인증 특징
1. HTTP 프로토콜은 Stateless한 특성을 가지기 때문에 사용자가 다시 요청을 보낼 때마다 사용자 정보를 매번 다시 전송해야한다. HTTP 세션은 이런한 문제를 해결하기 위해 사용자 정보를 서버측에서 저장하고 관리하는 세션 ID를 발급한다.
2. HTTP 세션은 쿠키를 사용하여 구현된다: 서버 개발자 입장에서는 HTTP 세션이지만 클라이언트 개발자 입장에서는 그저 쿠키이기 때문에 쿠키 세션이라고도 함
3. HTTP 세션은 사용자 로그인 정보를 관리할 때 사용하며 사용자가 다시 접속하여도 유지된다.
4. HTTP 세션은 서버에서 관리되기 때문에 사용자가 임의로 세션 정보를 조작할 수 없다.
<br>

쿠키의 만료 기간을 정하게 되는데 보통은 연결된 세션 타임동안만 사용되도록 설정한다.
다라서 브라주러르 다든다는지 또는 연결을 끊게 되거나 서버에서 관리하기 때문에 서버가 새로 고침을 하게되면 사용자가 연결된 정보가 사라지게 된다.
<br>

HTTP 세션 인증은 **서버 측에서 유지하고 관리**하기 때문에 사용자가 임의로 세션 정보를 조작할 수 없다는 것이다.
<br>

### HTTP 세션 인증 과정
1. 사용자가 로그인을 시도
2. 서버는 사용자의 인증 정보를 검증하여 session id를 생성
3. 세션은 서버측에서 관리되며 서버에서 갱신 및 정보를 변경할 수 있다.
4. 세션ID는 쿠키(cookie)방식으로 사용자에게 전달되며 웹 어플리케이션에서 사용한다.

웹 어플리케이션, 웹 브라우저에서 사용되는 형태라는 점.
안드로이드라든지 아이폰의 경우 브라우저 형식이 아니라 REST API를 쓴다.
이 때 많이 쓰는 것이 REST 클라이언틀르 쓸 때는 쿠키를 실어서 보내지 않기 때문에 HTTP 세션 인증 방식을 사용하지 않는다.
보통 웹뷰어 형식이나 웹앱같은 곳에서 HTTP 세션 인증 방식을 사용한다.

<br>

[HTTP 세션 인증 코드]()

코드 결과물⬇️

![image](https://github.com/user-attachments/assets/c9819e22-633c-4e5a-a23c-c04e6c755d05)

![image](https://github.com/user-attachments/assets/c85c7e4e-547b-4a9d-addf-746c6281e1e5)


## HTTP Cookie 인증